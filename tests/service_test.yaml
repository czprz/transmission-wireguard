suite: service

templates:
  - templates/service.yaml

tests:
  - it: should render service ports
    asserts:
      - isKind:
          of: Service
      - contains:
          path: spec.ports
          content:
            name: web
            port: 9091
            protocol: TCP
            targetPort: 9091
      - contains:
          path: spec.ports
          content:
            name: peer-tcp
            port: 51413
            protocol: TCP
            targetPort: 51413
      - contains:
          path: spec.ports
          content:
            name: peer-udp
            port: 51413
            protocol: UDP
            targetPort: 51413
